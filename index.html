<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Southern US Interactive Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 100vh; }

    .state-label {
      font-size: 16px;
      font-weight: bold;
      color: #333;
      background: transparent;
      text-align: center;
    }

    .city-label {
      font-size: 13px;
      background: white;
      padding: 2px 5px;
      border-radius: 3px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.15);
      color: #222;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <!-- Leaflet + TopoJSON -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/topojson-client@3"></script>

  <script>
    // Create locked map view
    const map = L.map('map', {
      minZoom: 5,
      maxZoom: 7,
      zoomControl: false,
      dragging: true,
      scrollWheelZoom: false,
      doubleClickZoom: false,
      boxZoom: false,
      keyboard: false,
      maxBounds: [
        [24, -105], // SW
        [37, -75]   // NE
      ]
    }).setView([31, -87], 6);

    // Label-free base map
    L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/light_nolabels/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Load low-fidelity US state shapes
    fetch('https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json')
      .then(res => res.json())
      .then(topoData => {
        const geojson = topojson.feature(topoData, topoData.objects.states);

        const stateNames = {
          1: "Alabama",
          12: "Florida",
          13: "Georgia",
          22: "Louisiana",
          45: "South Carolina",
          48: "Texas"
        };

        const stateCentroids = {
          1: [32.5, -86.8],
          12: [28.6, -82.5],
          13: [32.6, -83.5],
          22: [31.0, -92.0],
          45: [33.8, -80.9],
          48: [31.0, -99.0]
        };

        L.geoJSON(geojson, {
          filter: feature => Object.keys(stateNames).includes(feature.id),
          style: {
            color: '#0078A8',
            weight: 2,
            fillOpacity: 0.1
          },
          onEachFeature: (feature, layer) => {
            layer.bindPopup(stateNames[feature.id]);
          }
        }).addTo(map);

        // Add state labels
        for (const id in stateCentroids) {
          L.marker(stateCentroids[id], {
            icon: L.divIcon({
              className: 'state-label',
              html: stateNames[id],
              iconSize: [100, 20]
            })
          }).addTo(map);
        }

        // Add manually-specified cities
        const cities = [
          { name: "Mobile, AL", coords: [30.6954, -88.0399] },
          { name: "Savannah, GA", coords: [32.0809, -81.0912] },
          { name: "New Orleans, LA", coords: [29.9511, -90.0715] },
          { name: "Tallahassee, FL", coords: [30.4383, -84.2807] },
          { name: "Charleston, SC", coords: [32.7765, -79.9311] },
          { name: "El Paso, TX", coords: [31.7619, -106.4850] }
        ];

        cities.forEach(city => {
          L.marker(city.coords, {
            icon: L.divIcon({
              className: 'city-label',
              html: city.name,
              iconSize: [100, 20]
            })
          }).addTo(map);
        });
      });
  </script>
</body>
</html>
